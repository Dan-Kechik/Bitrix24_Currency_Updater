# Bitrix24_Currency_Updater
Выполняет обновление курса валют на портале Битрикс24 в соответствии с курсом ЦБ РФ

Для корректной работы, на портале должен быть создан вебхук, url-адрес которого надо поместить в переменную WEBHOOK в файле .env (в корне);

## Принцип работы скрипта

Обмен данными с порталом Битрикс24 осуществляется с помощью библиотеки `fast_bitrix24` через вебхук;

### Функция `get_rates()` 
с помощью библиотеки requests, запрашивает данные курса валют на сайте ЦБ РФ, сохраняет их в xml файл по адресу "./exrates", парсит эти данные посредством модуля `xml.etree.ElementTree` и помещает их в возвращаемый список;

### Функция `do_update()` 
используя переданный от `get_rates()` список с данными о курсах валют, отправляет вызов на портал Битрикс24 для обновления курсов.

### Функция `main()`
запускает скрипты, проверяя наличие необходмой папки exrates, в которой хранятся xml файлы, 


#### Зависимости
fast_bitrix24
requests
dotenv